"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2421],{2421:(V,l,s)=>{s.r(l),s.d(l,{CondicionCiudadPageModule:()=>B});var r=s(177),g=s(9417),a=s(9364),d=s(3799),o=s(4438),u=s(5609),p=s(2490),_=s(8152),h=s(1247);function m(n,e){if(1&n&&(o.j41(0,"body",10)(1,"div",11)(2,"div",12),o.nrm(3,"img",13),o.k0s(),o.j41(4,"h2",14),o.EFF(5),o.k0s()()()),2&n){const i=o.XpG();o.R7$(5),o.SpI(" Buscando datos climatol\xf3gicos para ",i.nombreLocalidad," ")}}function f(n,e){if(1&n&&(o.j41(0,"h2",44),o.EFF(1),o.j41(2,"sup",45),o.EFF(3,"\xb0C"),o.k0s()()),2&n){const i=o.XpG(3);o.R7$(),o.SpI(" ",i.redondearTemperatura(),"")}}function C(n,e){if(1&n&&(o.j41(0,"h2",44),o.EFF(1),o.j41(2,"sup",45),o.EFF(3,"\xb0F"),o.k0s()()),2&n){const i=o.XpG(3);o.R7$(),o.SpI(" ",i.celsiusToFahrenheit(i.redondearTemperatura()),"")}}function b(n,e){if(1&n&&(o.j41(0,"ion-col")(1,"p",37)(2,"strong"),o.EFF(3),o.k0s()()()),2&n){const i=o.XpG(3);o.R7$(3),o.Lme("",i.vientoCondicion," ",i.vientoFuerza,"Km/h")}}function v(n,e){if(1&n&&(o.j41(0,"ion-col")(1,"p",37)(2,"strong"),o.EFF(3),o.k0s()()()),2&n){const i=o.XpG(3);o.R7$(3),o.Lme("",i.vientoCondicion," ",i.kmhtoMph(i.vientoFuerza),"Mph ")}}function x(n,e){1&n&&o.nrm(0,"ion-icon",46)}function j(n,e){1&n&&o.nrm(0,"ion-icon",47)}function P(n,e){if(1&n&&(o.j41(0,"ion-card-subtitle")(1,"strong"),o.EFF(2),o.k0s()()),2&n){const i=o.XpG().$implicit;o.R7$(2),o.E5c("",i.dia," \u2022 Min: ",i.temperaturaMinima,"\xb0C \u2022 Max: ",i.temperaturaMaxima,"\xb0C ")}}function k(n,e){if(1&n&&(o.j41(0,"ion-card-subtitle")(1,"strong"),o.EFF(2),o.k0s()()),2&n){const i=o.XpG().$implicit;o.R7$(2),o.Lme(" ",i.dia," \u2022 Max: ",i.temperaturaMaxima,"\xb0C ")}}function M(n,e){if(1&n&&(o.j41(0,"ion-card-subtitle")(1,"strong"),o.EFF(2),o.k0s()()),2&n){const i=o.XpG().$implicit,t=o.XpG(4);o.R7$(2),o.E5c("",i.dia," \u2022 Min: ",t.celsiusToFahrenheit(i.temperaturaMinima),"\xb0F \u2022 Max: ",t.celsiusToFahrenheit(i.temperaturaMaxima),"\xb0F")}}function y(n,e){if(1&n&&(o.j41(0,"ion-card-subtitle")(1,"strong"),o.EFF(2),o.k0s()()),2&n){const i=o.XpG().$implicit,t=o.XpG(4);o.R7$(2),o.Lme(" ",i.dia," \u2022 Max: ",t.celsiusToFahrenheit(i.temperaturaMaxima),"\xb0F")}}function F(n,e){if(1&n&&o.nrm(0,"img",55),2&n){const i=o.XpG().$implicit;o.Y8G("src","assets/iconosclima/"+i.icono,o.B4B)}}function O(n,e){1&n&&o.nrm(0,"img",55),2&n&&o.Y8G("src","assets/iconosclima/vacio.png",o.B4B)}function T(n,e){if(1&n&&(o.j41(0,"ion-col"),o.DNE(1,F,1,1,"img",54)(2,O,1,1,"img",54),o.k0s()),2&n){const i=e.$implicit;o.R7$(),o.Y8G("ngIf",i.icono),o.R7$(),o.Y8G("ngIf",!i.icono)}}function $(n,e){if(1&n&&(o.j41(0,"ion-col")(1,"p")(2,"strong"),o.EFF(3),o.k0s()()()),2&n){const i=e.$implicit;o.R7$(3),o.JRh(i)}}function G(n,e){if(1&n&&(o.j41(0,"ion-card",50)(1,"ion-card-header",51),o.DNE(2,P,3,3,"ion-card-subtitle",29)(3,k,3,2,"ion-card-subtitle",29)(4,M,3,3,"ion-card-subtitle",29)(5,y,3,2,"ion-card-subtitle",29),o.k0s(),o.j41(6,"ion-card-content",52)(7,"ion-row",28),o.DNE(8,T,3,2,"ion-col",53),o.k0s(),o.j41(9,"ion-row",28),o.DNE(10,$,4,1,"ion-col",53),o.k0s()()()),2&n){const i=e.$implicit,t=o.XpG(4);o.R7$(2),o.Y8G("ngIf",i.temperaturaMinima&&t.tipoTemp),o.R7$(),o.Y8G("ngIf",!i.temperaturaMinima&&t.tipoTemp),o.R7$(),o.Y8G("ngIf",i.temperaturaMinima&&!t.tipoTemp),o.R7$(),o.Y8G("ngIf",!i.temperaturaMinima&&!t.tipoTemp),o.R7$(3),o.Y8G("ngForOf",i.pronosticodetalle),o.R7$(2),o.Y8G("ngForOf",t.horasDias)}}function I(n,e){if(1&n&&(o.j41(0,"div",48)(1,"h1",28)(2,"strong"),o.EFF(3,"Pron\xf3sticos"),o.k0s()(),o.j41(4,"p",28)(5,"strong"),o.EFF(6),o.k0s()(),o.DNE(7,G,11,6,"ion-card",49),o.k0s()),2&n){const i=o.XpG(3);o.R7$(6),o.SpI(" ",i.pronosticos[0].timestamp," "),o.R7$(),o.Y8G("ngForOf",i.pronosticos)}}function R(n,e){if(1&n){const i=o.RV6();o.j41(0,"ion-card-content")(1,"ion-grid")(2,"ion-row"),o.nrm(3,"ion-col"),o.j41(4,"ion-col"),o.DNE(5,f,4,1,"h2",30)(6,C,4,1,"h2",31),o.k0s(),o.nrm(7,"ion-col"),o.k0s()(),o.j41(8,"ion-grid",32)(9,"ion-row",33)(10,"ion-col"),o.nrm(11,"img",34),o.k0s(),o.j41(12,"ion-col"),o.nrm(13,"img",35),o.k0s(),o.j41(14,"ion-col"),o.nrm(15,"img",36),o.k0s()()(),o.j41(16,"ion-grid")(17,"ion-row")(18,"ion-col")(19,"p",37)(20,"strong"),o.EFF(21),o.k0s()()(),o.j41(22,"ion-col")(23,"p",37)(24,"strong"),o.EFF(25),o.k0s()()(),o.DNE(26,b,4,2,"ion-col",29)(27,v,4,2,"ion-col",29),o.k0s()(),o.j41(28,"div",38)(29,"div",39)(30,"div",40),o.bIt("click",function(){o.eBV(i);const c=o.XpG(2);return o.Njj(c.toggleAccordion())}),o.DNE(31,x,1,0,"ion-icon",41)(32,j,1,0,"ion-icon",42),o.k0s(),o.DNE(33,I,8,2,"div",43),o.k0s()()()}if(2&n){const i=o.XpG(2);o.R7$(5),o.Y8G("ngIf",i.tipoTemp),o.R7$(),o.Y8G("ngIf",!i.tipoTemp),o.R7$(5),o.Y8G("src","assets/iconosuv/"+i.datosPronosLocalidad.indiceUV.indice+".png",o.B4B),o.R7$(2),o.Y8G("src","assets/iconosclima/"+i.objetoCondicion.condicionIcono,o.B4B),o.R7$(2),o.Y8G("src",i.iconoViento,o.B4B),o.R7$(6),o.SpI(" UV ",i.datosPronosLocalidad.indiceUV.calificador,""),o.R7$(4),o.SpI(" ",i.objetoCondicion.condicionTexto," "),o.R7$(),o.Y8G("ngIf",i.tipoVel),o.R7$(),o.Y8G("ngIf",!i.tipoVel),o.R7$(4),o.Y8G("ngIf",!i.expanded),o.R7$(),o.Y8G("ngIf",i.expanded),o.R7$(),o.Y8G("ngIf",i.expanded)}}function E(n,e){if(1&n){const i=o.RV6();o.j41(0,"body",15)(1,"div",16)(2,"ion-row")(3,"ion-col",17)(4,"ion-buttons",18)(5,"ion-button",19),o.bIt("click",function(){o.eBV(i);const c=o.XpG();return o.Njj(c.agregarCiudad(c.codigoCiudad))}),o.nrm(6,"ion-icon",20),o.k0s()()(),o.nrm(7,"ion-col",21),o.j41(8,"ion-col",22)(9,"ion-buttons",23)(10,"ion-button",24),o.bIt("click",function(){o.eBV(i);const c=o.XpG();return o.Njj(c.eliminarCiudad(c.codigoCiudad))}),o.nrm(11,"ion-icon",25),o.k0s()()()()(),o.j41(12,"ion-card",26)(13,"ion-card-header",27)(14,"h1",28)(15,"strong"),o.EFF(16),o.k0s()(),o.j41(17,"h2",28),o.EFF(18),o.k0s()(),o.DNE(19,R,34,12,"ion-card-content",29),o.k0s()()}if(2&n){const i=o.XpG();o.xc7("background-image","url(assets/fondocondicion/"+i.condicionTexto+".jpg)"),o.R7$(16),o.JRh(i.nombreLocalidad),o.R7$(2),o.JRh(i.fechaActualizado),o.R7$(),o.Y8G("ngIf",i.objetoCondicion)}}const D=[{path:"",component:(()=>{var n;class e{constructor(t,c,Y,X,N,L){this.settings=t,this.cookie=c,this.route=Y,this.router=X,this.coleccionCiudadesService=N,this.pronosticoLocalidad=L,this.isOpen=!1,this.expanded=!0,this.horasDias=["00:00","06:00","12:00","18:00"],this.isLoading=!0,this.alertButtons=["Action"]}ngOnInit(){this.obtenerConfigs(),this.route.params.subscribe(t=>{this.codigoCiudad=t.codigo,console.log(this.codigoCiudad),this.obtenerDatosPronostico()})}obtenerConfigs(){if(""===this.cookie.get("tipoTemperatura"))this.cookie.set("tipoTemperatura","true");else{let c="true"===this.cookie.get("tipoTemperatura");this.settings.setTemperatura(c)}if(""===this.cookie.get("tipoVelocidad"))this.cookie.set("tipoVelocidad","true");else{let c="true"===this.cookie.get("tipoVelocidad");this.settings.setVelocidadEn(c)}this.settings.tipoTemperatura$.subscribe(t=>{console.log("tipo de temperatura",t),this.tipoTemp=t}),this.settings.tipoVelocidad$.subscribe(t=>{console.log("tipo de Velocidad",t),this.tipoVel=t})}celsiusToFahrenheit(t){return Math.round(9*t/5+32)}kmhtoMph(t){return Math.round(t/1.609344)}obtenerDatosPronostico(){this.isLoading=!0,this.pronosticoLocalidad.obtenerLocalidadCompleta(this.codigoCiudad).subscribe(t=>{this.datosPronosLocalidad=t.data[0],this.pronosticos=this.datosPronosLocalidad.pronostico,this.nombreLocalidad=this.datosPronosLocalidad.nombre,this.objetoCondicion=this.datosPronosLocalidad.condicionActual,this.fechaActualizado=this.objetoCondicion.timestamp,this.vientoFuerza=parseInt(this.objetoCondicion.vientoFuerza),this.vientoDireccion=parseInt(this.objetoCondicion.vientoDireccion),this.iconoViento=this.obtenerIconoDireccionViento(),this.condicionTexto=this.objetoCondicion.condicionTexto.toLowerCase().replace(/\s/g,""),console.log("objeto condicion",this.objetoCondicion),console.log("condicion texto",this.condicionTexto),console.log("pronostico localidad",this.datosPronosLocalidad),console.log("datos",t),this.isLoading=!1},t=>{this.isLoading=!1,console.error("Error al obtener datos del pron\xf3stico",t)})}redondearTemperatura(){return Math.floor(this.objetoCondicion.temperatura)}obtenerIconoDireccionViento(){return 0==this.vientoDireccion&&0==this.vientoFuerza?(this.vientoCondicion="calma","assets/iconosviento/calma.png"):this.vientoDireccion>348?(this.vientoCondicion="N","assets/iconosviento/n.png"):this.vientoDireccion>326?(this.vientoCondicion="NNO","assets/iconosviento/nno.png"):this.vientoDireccion>303?(this.vientoCondicion="NO","assets/iconosviento/no.png"):this.vientoDireccion>282?(this.vientoCondicion="ONO","assets/iconosviento/ono.png"):this.vientoDireccion>258?(this.vientoCondicion="O","assets/iconosviento/o.png"):this.vientoDireccion>236?(this.vientoCondicion="OSO","assets/iconosviento/oso.png"):this.vientoDireccion>213?(this.vientoCondicion="SO","assets/iconosviento/so.png"):this.vientoDireccion>191?(this.vientoCondicion="SSO","assets/iconosviento/sso.png"):this.vientoDireccion>168?(this.vientoCondicion="S","assets/iconosviento/s.png"):this.vientoDireccion>146?(this.vientoCondicion="SSE","assets/iconosviento/sse.png"):this.vientoDireccion>123?(this.vientoCondicion="SE","assets/iconosviento/se.png"):this.vientoDireccion>101?(this.vientoCondicion="ESE","assets/iconosviento/ese.png"):this.vientoDireccion>78?(this.vientoCondicion="E","assets/iconosviento/e.png"):this.vientoDireccion>56?(this.vientoCondicion="ENE","assets/iconosviento/ene.png"):this.vientoDireccion>33?(this.vientoCondicion="NE","assets/iconosviento/ne.png"):this.vientoDireccion>11?(this.vientoCondicion="NNE","assets/iconosviento/nne.png"):(this.vientoCondicion="N","assets/iconosviento/n.png")}toggleAccordion(){this.expanded=!this.expanded}seleccionarCiudad(t){this.router.navigate(["/condicion-ciudad",t.codigo])}agregarCiudad(t){this.coleccionCiudadesService.agregarCiudad(t)}eliminarCiudad(t){this.coleccionCiudadesService.eliminarCiudad(t)}}return(n=e).\u0275fac=function(t){return new(t||n)(o.rXU(u.h),o.rXU(p.O),o.rXU(d.nX),o.rXU(d.Ix),o.rXU(_.n),o.rXU(h.Q))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-condicion-ciudad"]],decls:10,vars:2,consts:[[2,"display","flex","justify-content","space-between"],["slot","start"],["menu","main-menu"],[2,"text-align","center","margin-right","auto"],["slot","end","href","https://www.dgac.gob.cl/"],["id","logo","src","../../assets/icon/DGAC-logo.jpg","alt","logo",2,"height","40px","width","30px","margin-right","1vh"],["slot","end","href","https://www.meteochile.gob.cl/PortalDMC-web/index.xhtml"],["id","logo","src","../../assets/icon/DMC-logo.png","alt","logo",2,"height","40px","width","40px","margin-right","1vh"],["style","background-image: url('../../assets/fondocondicion/appfondo.jpg')",4,"ngIf"],["style","background-size: cover; background-position: center; overflow: auto",3,"backgroundImage",4,"ngIf"],[2,"background-image","url('../../assets/fondocondicion/appfondo.jpg')"],[2,"text-align","center","position","relative","top","33%"],[1,"container"],["src","../../assets/icon/DMC-logo.png","alt","Imagen",1,"rotar",2,"height","200px","width","200px"],[2,"font-family","OpenSans-Bold"],[2,"background-size","cover","background-position","center","overflow","auto"],[2,"position","relative","top","4rem"],["size","3"],[2,"position","relative","text-align","start"],[1,"botonAgregar",3,"click"],["name","add-outline",2,"color","white","height","30px","width","30px"],["size","6"],["size","3",2,"position","relative","text-align","end"],[2,"position","relative","justify-content","end"],[1,"botonEliminar",3,"click"],["name","trash-outline",2,"color","white","height","30px","width","30px"],[2,"box-shadow","0px 2px 0px 1px rgb(143, 135, 135)","display","contents","color","white"],[2,"color","white","margin-top","5vh"],[2,"text-align","center"],[4,"ngIf"],["style","\n                font-size: 100px;\n                font-weight: bold;\n                display: block;\n                margin: auto;\n                text-align: center;\n              ",4,"ngIf"],["style","\n            font-size: 100px;\n            font-weight: bold;\n            display: block;\n            margin: auto;\n            text-align: center;\n          ",4,"ngIf"],[1,"ion-text-center"],[2,"display","flex","align-items","center"],[2,"border-radius","50%","display","block","margin-left","auto","margin-right","auto","width","50px","height","50px",3,"src"],["alt","Clima",2,"height","8vh","width","8vh",3,"src"],["alt","viento",2,"height","50px","width","50px",3,"src"],[2,"text-align","center","justify-content","center"],[1,"accordion"],[1,"accordion-item"],[1,"accordion-header",2,"display","flex","justify-content","center",3,"click"],["name","chevron-down-outline",4,"ngIf"],["name","chevron-up-outline",4,"ngIf"],["class","accordion-content",4,"ngIf"],[2,"font-size","100px","font-weight","bold","display","block","margin","auto","text-align","center"],[2,"font-size","3rem","position","relative","top","-2rem"],["name","chevron-down-outline"],["name","chevron-up-outline"],[1,"accordion-content"],["style","position: relative",4,"ngFor","ngForOf"],[2,"position","relative"],[2,"text-align","center","display","contents"],[2,"display","contents"],[4,"ngFor","ngForOf"],["style","height: 50px; width: 50px",3,"src",4,"ngIf"],[2,"height","50px","width","50px",3,"src"]],template:function(t,c){1&t&&(o.j41(0,"ion-toolbar",0)(1,"ion-buttons",1),o.nrm(2,"ion-menu-button",2),o.k0s(),o.nrm(3,"ion-title",3),o.j41(4,"a",4),o.nrm(5,"img",5),o.k0s(),o.j41(6,"a",6),o.nrm(7,"img",7),o.k0s()(),o.DNE(8,m,6,1,"body",8)(9,E,20,5,"body",9)),2&t&&(o.R7$(8),o.Y8G("ngIf",c.isLoading),o.R7$(),o.Y8G("ngIf",!c.isLoading))},dependencies:[r.Sq,r.bT,a.Jm,a.QW,a.b_,a.I9,a.ME,a.HW,a.hU,a.lO,a.iq,a.MC,a.ln,a.BC,a.ai],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:MiFuente-Bold}ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;justify-content:center;align-items:center;left:0;right:0}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#container[_ngcontent-%COMP%]   div.uv[_ngcontent-%COMP%]{color:#0ff;height:50px;width:50px;border-radius:50%;justify-content:center;align-items:center;text-align:center}.condicion-bruma[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/bruma.jpg)}.condicion-brumanoche[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/brumanoche.jpg)}.condicion-cubierto[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/cubierto.jpg)}.condicion-cubiertonoche[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/cubiertonoche.jpg)}.condicion-despejado[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/despejado.jpg)}.condicion-despejadoconnubes[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/despejadoconnubes.jpg)}.condicion-despejadoconnubesnoche[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/despejadoconnubesnoche.jpg)}.condicion-despejadonoche[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/despejadonoche.jpg)}.condicion-llovizna[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/llovizna.jpg)}.condicion-lloviznanoche[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/lloviznanoche.jpg)}.condicion-lluvia[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/lluvia.jpg)}.condicion-lluvianoche[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/lluvianoche.jpg)}.condicion-niebla[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/niebla.jpg)}.condicion-nieblanoche[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/nieblanoche.jpg)}.condicion-nieve[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/nieve.jpg)}.condicion-sininformacion2[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/sininformacion2.jpg)}.condicion-tormentadearena[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/tormentadearena.jpg)}.condicion-viento[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/viento.jpg)}.condicion-cubiertoynevadas[_ngcontent-%COMP%]{background-image:url("/assets/fondocondicion/cubierto y nevadas.jpg")}.condicion-cubiertoynevadas[_ngcontent-%COMP%]{background-image:url(/assets/fondocondicion/appfondo.jpg)}.scrollable-content[_ngcontent-%COMP%]{height:100vh;overflow-y:auto}ion-card[_ngcontent-%COMP%]{background:#ffffffa6}ion-toolbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .65)}.container[_ngcontent-%COMP%]{display:flex;justify-content:center}.rotar[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_girar 5s infinite linear;transform-style:preserve-3d}@keyframes _ngcontent-%COMP%_girar{0%{transform:rotateY(0)}to{transform:rotateY(360deg)}}']}),e})()}];let w=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[d.iI.forChild(D),d.iI]}),e})(),B=(()=>{var n;class e{}return(n=e).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[r.MD,g.YN,a.bv,w]}),e})()}}]);